# 基礎1

該当インプット：
- Chapter1

## POSSE課題
### AWSの主要なサービス名を聞いてその役割を説明できるか
 - **Amazon VPC**
   - 役割：AWSアカウント専用の仮想ネットワーク環境を構成するサービス
   - ユースケース：
     - データベースをプライベートサブネットで運用＝セキュアな構築
     - オンプレとのハイブリット
     - アクセス制御を細かくしたい場合
 - **Amazon EC2**
   - 役割：コンピューティングキャパシティを提供するサービス。サーバーやOS、ソフトウェアなどもさまざまなスペックで設定ができ、システムを構成することができる
   - ユースケース：
     - スケーラブルさが求められて需要に応じてインスタンスを追加したい
     - 短期的なテスト環境
 - **Amazon S3**
   - 役割：オブジェクトストレージサービス。Webサーバーやファイルサーバー用のストレージとして利用。→堅牢であり、全容量の制限はなし
   - ユースケース：
     - 画像やHTMLファイルなどの静的コンテンツをホスティング=HPとか
     - データの安全な長期保存→バックアップなど
     - データ分析
 - **Amazon RDS**
   - 役割：人気のリレーショナルデータベースをクラウド上で利用できる。
   - ユースケース：
     - 電子商取引などのデータ整合性が必要なシステムな場合
     - セキュリティパッチやバックアップを自動化したい場合＝マネージドデータベース
 - **Amazon EBS**
   - 役割：EC2で用いるストレージ→それぞれ用途に応じたボリュームがある
   - ユースケース：
     - ec2のルートボリューム＝永続的なストレージ（停止しても保存された状態）
     - アプリケーションログやシステムログを保存
 - **Amazon Route 53**
   - 役割：DNS→ドメインネームサービス。WebサーバーのDNS機能を提供
   - ユースケース：
     - 独自ドメイン名を設定してEC2などと連携
     - 地理的なルーティングをしようして最適なリージョンにトラフィック
### AWSのコストに関してメリット、デメリットを説明できるか
 - **メリット**
   - 初期費用が不要
     - AWSは従量課金制であり、必要な分だけコストが発生する。そのため、初期段階でお試しでサービスを公開する場合など初期費用がかからないため、手軽にデプロイ等できる
   - コストの柔軟性
     - サービスの用途に応じて適切なサービスを使うことでコストを最小限に抑えることができる
   - 運用効率
     - インフラ構築にかかる人件費や場所の確保が大幅に削減することができる
 - **デメリット**
   - 利用状況の複雑化によるコスト増加
     - サービスによっては、当初の目的とは違う使用頻度などで利用された場合などコストが増加してしまう場合がある。
   - 継続的コスト
     - AWSは従量課金制であるがゆえに継続的にコストがあるため、サービスの形態によってはオンプレの方が安くなる場合がある
   - コスト管理
     - AWSの知識がある人でないとコストの管理が難しく、大幅なコスト増加を招いてしまう。→専門的な技術者が必要
   - マネージドサービスのコスト
     - 一部マネージドサービスがありますが、用途によっては、使用料金が高く、コストが増加してしまう場合がある
### マルチAZにするメリットは何か（ググる）
 - **AZとは**
   - アベイラビリティゾーンの略称
   - パブリッククラウドはリージョンという大きな区分けがあり、東京リージョンなどがある。そのリージョンの中に複数のAZがあり、それぞれ独立しており、お互いに影響が出ない状態で運用管理がされている
 - **マルチAZのメリット**
   - シングルAZは一つのAZしか使用しない場合で、もし、障害が起きてしまった場合はシステム全体が停止してしまう。しかし、マルチAZにしていれば、一つのAZで障害が起きても予備用のAZでシステムを稼働し続けることができる→データのレプリケーションができ、予備用でも同じデータを取得できる。（可用性・耐障害性・レプリケーション）
### 日本でサービスを公開する場合、リージョンはどこを選択すればいいか。理由も含めて。（ググる）
 - **コストを重要視する場合**
   - 米国の3つのリージョン (バージニア北部・オハイオ・オレゴン)
     - 理由：コストが最も安いため。安全性や通信速度よりもコストを重要視する場合は上記の三つのリージョンを選択する
 - **通信速度を重要視する場合（大体のサービスはこっち）**
   - 東京リージョン
   - 理由：基本的に通信速度を重要視する場合は、利用者の所在地に一番近いリージョンが推奨されているため、東京リージョンになる。（補足：大阪リージョンはローカルリージョンと呼ばれ災害対策のバックアップを目的としたものであり、申し込みと審査が必要になる）また、コストを重要視する上記の三つのリージョンよりも障害は起きにくく、安全は担保されているため。
### マネージドサービスとは何か。利用するメリットは何か。
 - **マネージドサービス**
   - ことAWSマネージドサービスとはAWSのインフラやサービスを専門に管理するサービス。簡単に言えば、AWSの運用にかかる工数を削減でき、本来集中すべき業務にリソースを割くことができる。RDSなど
 - **メリット**
   - 運用負担の軽減
     - ハードウェア管理やバックアップなど自動で実行してくれるため、ビジネスロジックに集中して開発できる
   - スケーラビリティ
     - アクセス量の増減に応じて、自動的にリソースのスケールアップやスケールアップをしてくれる
   - セキュリティの強化
     - セキュリティパッチなど暗号化を適用し、データ保護も徹底されている
   - 高可用性と耐障害性
     - 冗長化やフェイルオーバー機能が標準で備わっているため停止リスクを最小化させている
### 導入事例①,②のメリット、デメリットを説明できるか
 - **導入事例①**
   - **メリット**
     - EC2インスタンスが一つ
       - ①は小規模なブログサイトのため、ユーザーが頻繁に訪れたり、アクセスが多く見込めないため、最小限のインスタンス数でサービスを公開することができている。また、障害が起きても利用に緊急度がないため。
     - RDSインスタンスがマルチAZ
       - このサービスだとしても障害が起きた際にDBの情報がなくなってしまうのは避けたい。そのため、マルチAZで複数の拠点で同一の情報を保持しておくように設定されている
   - **デメリット**
     - 障害時のサービス運用
       - 障害起きた際にDBは保持できる状態になっているが、EC2インスタンスは一つのため、サービス自体が停止してしまう。 
 - **導入事例②**
   - **メリット**
     - ELBでの負荷分散
       - ELBによってアクセスの集中によるサービスの停止を対策している
     - RDSでのマルチAZ
       - 障害が起きた際にDBの情報がなくなってしまうのは避けたい。そのため、マルチAZで複数の拠点で同一の情報を保持しておくように設定されている
     - S3とEC2インスタンスとの接続方法
       - 接続の際にゲートウェイエンドポイントを使用されており、VPC内部で高速かつセキュアにアクセスできるようにしている
   - **デメリット**
     - 複数のWebサーバーの利用
       - 複数の異なるWebサーバーを立てていることで接続などの複雑化が見込まれるため、構築が複雑しミスが起きやすい
     - 複数の方向からの情報受け渡しをしているRDS
       - 複数からの情報書き込み・取得が行われてRDSに負荷がかかる→ElastiCasheで負荷を軽減
### 導入事例②にELBがあって③にないのはなぜか
 - **導入事例②にELBが必要な理由**
   - toC向けのサービス
     - ECサイトのため、利用するユーザーがいる。そのため、サービスの停止が多大な利益損失に関わる。そのため、よりサービス停止が起こらないようにELBが必要になる。
   - 商取引
     - サービスで取引をしている際に障害が起きた際に取引自体が問題を引き起こしてしまうとユーザーが減ってしまったり、賠償にもつながる場合がある。
 - **導入事例③にELBが必要ない理由**
   - オンプレの負荷分散がある
     - オンプレミスでの負荷分散ができているため、EC2でELBをする必要がない
   - 単純性やコストの削減を優先
   　- 業務システムのため、利用率を上げるように単純でコストが少ない設計にすることがよりECサイトより求められるため。
## Memo
